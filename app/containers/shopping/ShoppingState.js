/** * ShoppingState.js */import React, {Component} from "react";import {Image, StatusBar, StyleSheet, Text, View,ScrollView} from "react-native";import {connect} from "react-redux";import {TopToolBar,ACTION_HELP} from '../../components/TopToolBar';import {BottomToolBar, ACTION_BACK, ACTION_DISCOUNT,ACTION_LOGOUT} from '../../components/BottomToolBar';import * as authActions from "../../actions/auth-actions";import strings from "../../resources/strings"import constants from '../../resources/constants';import Button from "../../components/Button";import {getHeaderHeight, getTabBarHeight, SCREEN_HEIGHT, SCREEN_WIDTH} from "../../utils/tools";import colors from "../../resources/colors";export class ShoppingState extends Component {    constructor(props) {        super(props);        this.state={        };    }    componentWillMount() {        this.props.dispatch(authActions.getCustomerHelp("04"));    }    render() {        const navigator = this.props.navigation;        return (            <View style={styles.container}>                <TopToolBar title = {strings.help} navigation = {this.props.navigation}                            _onLeftIconPress={this._onVolumeIconPress}                            _onRightIconPress={this._onHelpIconPress}/>                <ScrollView>                    <View style={{flex:1,marginBottom:getTabBarHeight()}}>                        {this._renderImage()}                    </View>                </ScrollView>                <BottomToolBar navigation={this.props.navigation}                               leftAction={ACTION_BACK}                               _onLeftIconPress={this._onBackIconPress}                />            </View>        );    }    _renderImage(){        var ts=new Date().getTime();        var dataListView = [];        for(var i=0;i<this.props.shoppingHelpSeg;i++){            dataListView.push(                [                    <View style={{marginBottom:10}} key={i}>                        <Image source={{uri:strings.head+'help/shopping/'+(i+1)+'.jpg'+'?'+ts}} style={styles.imageBackgroundStyle}/>                    </View>,                ]            )        }        return dataListView;    }    _onVolumeIconPress =() =>{};    _onHelpIconPress =() =>{};    _onBackIconPress = () => {        this.props.navigation.pop()    };};const styles = StyleSheet.create({    container: {        flex:1,        alignItems:'center',        justifyContent: 'center'    },    stateWrapper:{        // flex:1,        // alignItems:'center',        // justifyContent: 'center'        // borderWidth:1,        marginTop:SCREEN_HEIGHT*0.01,        width:SCREEN_WIDTH*0.9,        // paddingTop:20,        // alignSelf:"flex-start"    },    stateText:{        fontSize:16,        margin:2,        lineHeight:18,    },    imageBackgroundStyle: {        width: SCREEN_WIDTH,        height: SCREEN_HEIGHT-getHeaderHeight()-getTabBarHeight(),        borderBottomWidth:2,        borderColor:colors.baseWhite    },});const mapStateToProps = (state) => ({    auth: state.get('auth'),    unionId:state.get('auth').get('unionId'),    cartId:state.get('auth').get('cartId'),    username:state.get('auth').get('username'),    password:state.get('auth').get('password'),    root: state.get('root'),    union: state.get('union'),    shoppingHelpSeg:state.get('auth').get('shoppingHelpSeg'),});export default connect(mapStateToProps)(ShoppingState)