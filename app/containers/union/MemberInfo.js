import React,{Component} from 'react';import {View, Text, ScrollView, StyleSheet, TouchableOpacity, Platform, Image, Modal, Alert} from 'react-native';import * as authActions from "../../actions/auth-actions";import * as shoppingActions from '../../actions/shopping-actions';import ImageViewer from 'react-native-image-zoom-viewer';import { CheckBox } from 'react-native-elements'import {getHeaderHeight, SCREEN_HEIGHT, SCREEN_WIDTH} from "../../utils/tools";import constants from "../../resources/constants";import colors from "../../resources/colors";import Icon from 'react-native-vector-icons/FontAwesome';import {connect} from "react-redux";import {TopToolBar} from "../../components/TopToolBar";import {ACTION_BACK,BottomToolBar} from "../../components/BottomToolBar";import {SwipeRow,SwipeListView} from 'react-native-swipe-list-view';import strings from "../../resources/strings"import * as unionActions from "../../actions/union-actions";export class MemberInfo extends Component{    constructor(props){        super(props);        this.state={            info:this.props.navigation.state.params.info,        };    }    render(){        const info=this.state.info;        console.log(info)        return(            <View style={styles.container}>                <TopToolBar title = {this.props.union.get("union").unionName} navigation = {this.props.navigation}                            _onLeftIconPress={this._onVolumeIconPress}                            _onRightIconPress={this._onHelpIconPress}                />                <View style={{marginBottom: getHeaderHeight(),flex:1}}>                    <View style={{marginTop: 3,width:SCREEN_WIDTH}}>                        <View style={[styles.detail,{marginBottom:15}]}>                            <Text style={[styles.textStyle,{color:colors.baseBlack}]} allowFontScaling={false}>Información sobre la tienda</Text>                        </View>                        <View style={styles.detail}>                            <Text style={styles.textStyle} allowFontScaling={false}>Nombre Fantasia</Text>                            <Text style={styles.textStyle} allowFontScaling={false}>{info.shopName}</Text>                        </View>                        <View style={styles.detail}>                            <Text style={styles.textStyle} allowFontScaling={false}>CUIT</Text>                            <Text style={styles.textStyle} allowFontScaling={false}>{info.cuit}</Text>                        </View>                        <View style={styles.detail}>                            <Text style={styles.textStyle} allowFontScaling={false}>Dirección</Text>                            <Text style={styles.textStyle} allowFontScaling={false}>{info.direccion}</Text>                        </View>                        <View style={styles.detail}>                            <Text style={styles.textStyle} allowFontScaling={false}>Teléfono</Text>                            <Text style={styles.textStyle} allowFontScaling={false}>{info.telephone}</Text>                        </View>                        {/*<View style={styles.row}>*/}                            {/*<View style={{flex:1}}>*/}                                {/*<Text style={styles.popoverText}>Nombre Fantasia：</Text>*/}                            {/*</View>*/}                            {/*<View style={{flex:2}}>*/}                                {/*<Text style={styles.popoverText}>{info.shopName}</Text>*/}                            {/*</View>*/}                        {/*</View>*/}                        {/*<View style={styles.row}>*/}                            {/*<View style={{flex:1}}>*/}                                {/*<Text style={styles.popoverText}>CUIT：</Text>*/}                            {/*</View>*/}                            {/*<View style={{flex:2}}>*/}                                {/*<Text style={styles.popoverText}>{info.cuit}</Text>*/}                            {/*</View>*/}                        {/*</View>*/}                        {/*<View style={styles.row}>*/}                            {/*<View style={{flex:1}}>*/}                                {/*<Text style={styles.popoverText}>Dirección：</Text>*/}                            {/*</View>*/}                            {/*<View style={{flex:2}}>*/}                                {/*<Text style={styles.popoverText}>{info.direccion}</Text>*/}                            {/*</View>*/}                        {/*</View>*/}                        {/*<View style={styles.row}>*/}                            {/*<View style={{flex:1}}>*/}                                {/*<Text style={styles.popoverText}>Teléfono：</Text>*/}                            {/*</View>*/}                            {/*<View style={{flex:2}}>*/}                                {/*<Text style={styles.popoverText}>{info.telephone}</Text>*/}                            {/*</View>*/}                        {/*</View>*/}                    </View>                    <View style={{width:SCREEN_WIDTH,alignItems:'center',marginTop:SCREEN_HEIGHT*0.06}}>                        <CheckBox                            title='Recibir o retirar mis pedidos de este local'                            checked={info.merchantId===this.props.auth.get("merchantId")}                            onPress={() => {                                Alert.alert(strings.alertTitle, strings.modifyShop,                                    [                                        {                                            text: strings.yes,                                            onPress: () => this._onUnionMember(info)                                        },                                        {text: strings.no},                                    ]                                );                            }}                            textStyle={{color:'red',fontWeight:'bold',fontSize:18}}                            containerStyle={{width:SCREEN_WIDTH*0.9,height:'auto'}}                        />                    </View>                </View>                <BottomToolBar navigation={this.props.navigation}                               leftAction={ACTION_BACK}                               _onLeftIconPress={this._onBackIconPress}                />            </View>        );    }    _onBackIconPress = () => {        this.props.navigation.pop()    };    _onUnionMember =(member) =>{        const unionId = this.props.union.get("union").unionId;        const merchantId = member.merchantId;        this.props.dispatch(authActions.setCustomerDefaultMerchant(unionId, merchantId));        this.props.dispatch(unionActions.setDefaultUnionAndMerchant(null,member));    };}const styles=StyleSheet.create({    container:{        flex:1,    },    detail:{        height:SCREEN_HEIGHT*0.06,        width:SCREEN_WIDTH,        flexDirection:'row',        justifyContent:'space-between',        alignItems:'center',        paddingHorizontal:10,        // borderBottomWidth:2,        // borderColor:colors.baseWhite,        marginTop:4,        backgroundColor:'rgb(236,154,64)',    },    row: {        height:65,        borderWidth:1,        borderColor: '#aaa',        flexDirection: 'row',        justifyContent: 'flex-start',        alignItems: 'center',        paddingLeft:10    },    textStyle:{        color:colors.baseWhite,        fontWeight:"bold",        fontSize:16,    },    rowBack: {        alignItems: 'center',        flex: 1,        flexDirection: 'row',        justifyContent: 'space-between',    },    popoverText: {        fontSize: 16    },});const mapStateToProps = (state) => ({    auth: state.get('auth'),    root: state.get('root'),    union: state.get('union'),    username:state.get('auth').get('username'),    unionId: state.get('auth').get("unionId"),    cartId: state.get("auth").get("cartId"),    priceList: state.get('union').get('priceList'),    taxId: state.get('union').get('taxId'),    start: state.get('union').get('start'),});export default connect(mapStateToProps)(MemberInfo)